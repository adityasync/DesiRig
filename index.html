<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DesiRig: Assembler - India's Custom PC Builder</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Base Settings */
        body { font-family: 'Space Grotesk', sans-serif; background-color: #020617; color: #e2e8f0; overflow-x: hidden; }
        
        /* Desktop: Fixed App Feel */
        @media (min-width: 1024px) {
            body { overflow: hidden; height: 100vh; }
        }

        /* Glassmorphism */
        .glass-panel { 
            background: rgba(15, 23, 42, 0.7); 
            backdrop-filter: blur(12px); 
            border: 1px solid rgba(59, 130, 246, 0.15); 
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        /* Neon Glows */
        .neon-text { text-shadow: 0 0 10px rgba(59, 130, 246, 0.5); }
        
        /* Animations */
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes pulse-rgb { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }
        @keyframes flow { 
            0% { opacity: 0; transform: translateX(0) scale(0.5); } 
            20% { opacity: 0.8; } 
            80% { opacity: 0.8; }
            100% { opacity: 0; transform: translateX(150px) scale(1.2); } 
        }
        
        .spin-fast { animation: spin 0.6s linear infinite; }
        .spin-med { animation: spin 1.2s linear infinite; }
        .spin-slow { animation: spin 2.5s linear infinite; }
        .rgb-cycle { animation: pulse-rgb 8s linear infinite; }
        .animate-flow { animation: flow 2s linear infinite; }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(30, 41, 59, 0.3); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Perspective for 3D Fan Effect */
        .perspective-container { perspective: 1000px; }
        .angled-fans { transform: rotateY(-25deg) scaleY(0.95); transform-origin: right center; }

        /* Print Styles */
        @media print {
            body { background: white; color: black; overflow: visible; height: auto; }
            .no-print { display: none !important; }
            .print-only { display: block !important; }
            .glass-panel { background: none; border: 1px solid #ccc; box-shadow: none; backdrop-filter: none; }
            #root { height: auto; overflow: visible; }
        }
        .print-only { display: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- ICONS ---
        const Icon = ({ children, className, size = 20, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>{children}</svg>
        );

        const FanBlade = ({ className }) => (
            <svg viewBox="0 0 24 24" className={className} fill="currentColor">
                <path d="M12 12c0-3 2.5-5 4-5 2 0 3 2 3 3 0 3.5-5 5-7 2z" transform="rotate(0 12 12)" opacity="0.9" />
                <path d="M12 12c0-3 2.5-5 4-5 2 0 3 2 3 3 0 3.5-5 5-7 2z" transform="rotate(72 12 12)" opacity="0.9" />
                <path d="M12 12c0-3 2.5-5 4-5 2 0 3 2 3 3 0 3.5-5 5-7 2z" transform="rotate(144 12 12)" opacity="0.9" />
                <path d="M12 12c0-3 2.5-5 4-5 2 0 3 2 3 3 0 3.5-5 5-7 2z" transform="rotate(216 12 12)" opacity="0.9" />
                <path d="M12 12c0-3 2.5-5 4-5 2 0 3 2 3 3 0 3.5-5 5-7 2z" transform="rotate(288 12 12)" opacity="0.9" />
                <circle cx="12" cy="12" r="2" />
            </svg>
        );

        const Icons = {
            Cpu: (p) => <Icon {...p}><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M9 9h6v6H9z"/><path d="M9 1v3M15 1v3M9 20v3M15 20v3M20 9h3M20 14h3M1 9h3M1 14h3"/></Icon>,
            Mobo: (p) => <Icon {...p}><path d="M4 2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/><path d="M8 8h8v8H8z"/><path d="M12 2v2"/><path d="M12 20v2"/></Icon>,
            Ram: (p) => <Icon {...p}><path d="M4 6h16v12H4z"/><path d="M8 6v12"/><path d="M12 6v12"/><path d="M16 6v12"/></Icon>,
            Gpu: (p) => <Icon {...p}><path d="M2 6h20v10H2z"/><circle cx="7" cy="11" r="3"/><circle cx="17" cy="11" r="3"/></Icon>,
            Ssd: (p) => <Icon {...p}><rect x="4" y="8" width="16" height="8" rx="1"/><line x1="8" y1="12" x2="8.01" y2="12"/></Icon>,
            Psu: (p) => <Icon {...p}><path d="M4 4h16v16H4z"/><circle cx="12" cy="12" r="6"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="M2 12h2"/><path d="M20 12h2"/></Icon>,
            Case: (p) => <Icon {...p}><rect x="4" y="2" width="16" height="20" rx="2"/><path d="M12 2v20"/></Icon>,
            Refresh: (p) => <Icon {...p}><path d="M21.5 2v6h-6"/><path d="M2.5 22v-6h6"/><path d="M2 11.5a10 10 0 0 1 18.8-4.3L21.5 8"/><path d="M22 12.5a10 10 0 0 1-18.8 4.3L2.5 16"/></Icon>,
            Link: (p) => <Icon {...p}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></Icon>,
            Search: (p) => <Icon {...p}><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></Icon>,
            Print: (p) => <Icon {...p}><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect x="6" y="14" width="12" height="8"/></Icon>
        };

        const INITIAL_DB = {
            cpu: [
                { id: 'c1', name: 'Intel Core i3-12100F', price: 7450, socket: 'LGA1700', tdp: 58, type: 'Intel' },
                { id: 'c2', name: 'AMD Ryzen 5 4500', price: 6800, socket: 'AM4', tdp: 65, type: 'AMD' },
                { id: 'c3', name: 'AMD Ryzen 5 5500', price: 8200, socket: 'AM4', tdp: 65, type: 'AMD' },
                { id: 'c4', name: 'Intel Core i5-12400F', price: 9150, socket: 'LGA1700', tdp: 65, type: 'Intel' },
                { id: 'c5', name: 'AMD Ryzen 5 5600', price: 10800, socket: 'AM4', tdp: 65, type: 'AMD' },
                { id: 'c6', name: 'Intel Core i5-13400F', price: 19500, socket: 'LGA1700', tdp: 65, type: 'Intel' },
                { id: 'c7', name: 'AMD Ryzen 5 7600', price: 19200, socket: 'AM5', tdp: 65, type: 'AMD' },
                { id: 'c8', name: 'AMD Ryzen 7 5700X', price: 16500, socket: 'AM4', tdp: 65, type: 'AMD' },
                { id: 'c9', name: 'Intel Core i5-14600K', price: 28500, socket: 'LGA1700', tdp: 125, type: 'Intel' },
                { id: 'c10', name: 'AMD Ryzen 7 7800X3D', price: 38500, socket: 'AM5', tdp: 120, type: 'AMD' },
                { id: 'c11', name: 'Intel Core i7-14700K', price: 38900, socket: 'LGA1700', tdp: 125, type: 'Intel' },
                { id: 'c12', name: 'AMD Ryzen 9 7950X', price: 54000, socket: 'AM5', tdp: 170, type: 'AMD' },
                { id: 'c13', name: 'Intel Core i9-14900K', price: 58500, socket: 'LGA1700', tdp: 253, type: 'Intel' },
                { id: 'c14', name: 'AMD Ryzen 9 9950X', price: 68500, socket: 'AM5', tdp: 170, type: 'AMD', new: true },
                { id: 'c15', name: 'Intel Core i3-14100F', price: 11200, socket: 'LGA1700', tdp: 60, type: 'Intel', new: true },
                { id: 'c16', name: 'AMD Ryzen 5 8600G', price: 21500, socket: 'AM5', tdp: 65, type: 'AMD', new: true }
            ],
            motherboard: [
                { id: 'm1', name: 'MSI A520M-A PRO', price: 4500, socket: 'AM4', memory: 'DDR4', form: 'mATX' },
                { id: 'm2', name: 'Gigabyte B450M DS3H WiFi', price: 6200, socket: 'AM4', memory: 'DDR4', form: 'mATX' },
                { id: 'm3', name: 'MSI PRO H610M-E DDR4', price: 6100, socket: 'LGA1700', memory: 'DDR4', form: 'mATX' },
                { id: 'm4', name: 'Gigabyte B550M DS3H', price: 8400, socket: 'AM4', memory: 'DDR4', form: 'mATX' },
                { id: 'm5', name: 'ASRock B760M Pro RS/D4', price: 11200, socket: 'LGA1700', memory: 'DDR4', form: 'mATX' },
                { id: 'm6', name: 'MSI B550 GAMING GEN3', price: 9500, socket: 'AM4', memory: 'DDR4', form: 'ATX' },
                { id: 'm7', name: 'MSI PRO B650M-P', price: 11800, socket: 'AM5', memory: 'DDR5', form: 'mATX' },
                { id: 'm8', name: 'Gigabyte B650 Gaming X AX', price: 18500, socket: 'AM5', memory: 'DDR5', form: 'ATX' },
                { id: 'm9', name: 'MSI MAG B760 TOMAHAWK WIFI', price: 19500, socket: 'LGA1700', memory: 'DDR5', form: 'ATX' },
                { id: 'm10', name: 'ASUS ROG Strix B650-A', price: 23500, socket: 'AM5', memory: 'DDR5', form: 'ATX' },
                { id: 'm11', name: 'ASUS ROG Strix Z790-F', price: 34500, socket: 'LGA1700', memory: 'DDR5', form: 'ATX' },
                { id: 'm12', name: 'Gigabyte X670E AORUS', price: 42000, socket: 'AM5', memory: 'DDR5', form: 'E-ATX' }
            ],
            ram: [
                { id: 'r1', name: 'Crucial 8GB DDR4 3200', price: 1450, type: 'DDR4', size: 8, rgb: false },
                { id: 'r2', name: 'Adata XPG 8GB DDR4', price: 1550, type: 'DDR4', size: 8, rgb: false },
                { id: 'r3', name: 'Corsair LPX 16GB (8x2)', price: 3400, type: 'DDR4', size: 16, rgb: false },
                { id: 'r4', name: 'G.Skill Ripjaws V 16GB', price: 3600, type: 'DDR4', size: 16, rgb: false },
                { id: 'r5', name: 'XPG Spectrix D60G 16GB', price: 4800, type: 'DDR4', size: 16, rgb: true },
                { id: 'r7', name: 'Crucial 16GB DDR5 4800', price: 4200, type: 'DDR5', size: 16, rgb: false },
                { id: 'r8', name: 'Adata XPG Lancer 16GB', price: 5100, type: 'DDR5', size: 16, rgb: false },
                { id: 'r9', name: 'G.Skill Ripjaws S5 32GB', price: 9500, type: 'DDR5', size: 32, rgb: false },
                { id: 'r10', name: 'Corsair Dominator 32GB', price: 15800, type: 'DDR5', size: 32, rgb: true },
                { id: 'r11', name: 'Trident Z5 RGB 64GB', price: 22500, type: 'DDR5', size: 64, rgb: true }
            ],
            storage: [
                { id: 's1', name: 'Crucial BX500 480GB', price: 2650, type: 'SATA', size: '480GB' },
                { id: 's2', name: 'WD Green SN350 500GB', price: 2800, type: 'NVMe', size: '500GB' },
                { id: 's3', name: 'WD Blue SN580 500GB', price: 3800, type: 'NVMe', size: '500GB' },
                { id: 's4', name: 'Crucial P3 1TB NVMe', price: 5400, type: 'NVMe', size: '1TB' },
                { id: 's5', name: 'Samsung 980 1TB NVMe', price: 7800, type: 'NVMe', size: '1TB' },
                { id: 's6', name: 'WD Black SN770 1TB', price: 8200, type: 'NVMe', size: '1TB' },
                { id: 's7', name: 'Samsung 980 PRO 1TB', price: 10500, type: 'NVMe', size: '1TB' },
                { id: 's8', name: 'WD Black SN850X 2TB', price: 15200, type: 'NVMe', size: '2TB' },
                { id: 's9', name: 'Seagate Barracuda 2TB', price: 5600, type: 'HDD', size: '2TB' }
            ],
            gpu: [
                { id: 'g0', name: 'Integrated (iGPU)', price: 0, tdp: 0, vram: '0GB' },
                { id: 'g1', name: 'Zotac GTX 1650 4GB', price: 12500, tdp: 75, vram: '4GB' },
                { id: 'g3', name: 'Zotac RTX 3050 6GB', price: 16800, tdp: 130, vram: '6GB' },
                { id: 'g4', name: 'Gigabyte RX 6600 8GB', price: 19500, tdp: 132, vram: '8GB' },
                { id: 'g5', name: 'MSI RTX 3060 12GB', price: 25500, tdp: 170, vram: '12GB' },
                { id: 'g6', name: 'Gigabyte RTX 4060', price: 28900, tdp: 115, vram: '8GB' },
                { id: 'g7', name: 'Zotac RTX 4060 Ti', price: 36500, tdp: 160, vram: '8GB' },
                { id: 'g8', name: 'Sapphire RX 7700 XT', price: 43500, tdp: 245, vram: '12GB' },
                { id: 'g9', name: 'Gigabyte RTX 4070 S', price: 61500, tdp: 220, vram: '12GB' },
                { id: 'g10', name: 'Asus TUF RX 7900 XT', price: 78000, tdp: 315, vram: '20GB' },
                { id: 'g11', name: 'MSI RTX 4070 Ti Super', price: 82000, tdp: 285, vram: '16GB' },
                { id: 'g12', name: 'Gigabyte RTX 4080 Super', price: 108000, tdp: 320, vram: '16GB' },
                { id: 'g13', name: 'Asus ROG RTX 4090', price: 195000, tdp: 450, vram: '24GB' }
            ],
            psu: [
                { id: 'p1', name: 'Ant Esports VS500L', price: 2050, watts: 500, type: 'Non-Mod' },
                { id: 'p2', name: 'Cooler Master MWE 450', price: 2800, watts: 450, type: 'Bronze' },
                { id: 'p3', name: 'Deepcool PK550D', price: 3450, watts: 550, type: 'Bronze' },
                { id: 'p4', name: 'Corsair CX650', price: 5400, watts: 650, type: 'Bronze' },
                { id: 'p5', name: 'MSI MAG A650BN', price: 4800, watts: 650, type: 'Bronze' },
                { id: 'p6', name: 'Gigabyte P750GM', price: 6800, watts: 750, type: 'Gold' },
                { id: 'p7', name: 'MSI MAG A750GL', price: 7900, watts: 750, type: 'Gold' },
                { id: 'p8', name: 'Corsair RM850e', price: 10500, watts: 850, type: 'Gold' },
                { id: 'p9', name: 'Deepcool PM850D', price: 8500, watts: 850, type: 'Gold' },
                { id: 'p10', name: 'Corsair RM1000e', price: 14800, watts: 1000, type: 'Gold' },
                { id: 'p11', name: 'Asus ROG Thor 1000W', price: 28000, watts: 1000, type: 'Platinum' }
            ],
            case: [
                { id: 'ca1', name: 'Ant Esports ICE-100', price: 3200, form: 'ATX', color: 'bg-slate-900' },
                { id: 'ca2', name: 'Deepcool CC560 V2', price: 4600, form: 'ATX', color: 'bg-gray-800' },
                { id: 'ca3', name: 'Galax Revolution 05', price: 3800, form: 'mATX', color: 'bg-white' },
                { id: 'ca4', name: 'Lian Li Lancool 215', price: 7600, form: 'ATX', color: 'bg-gray-900' },
                { id: 'ca5', name: 'NZXT H5 Flow White', price: 8200, form: 'ATX', color: 'bg-zinc-100' },
                { id: 'ca6', name: 'Lian Li Lancool 216 RGB', price: 8600, form: 'ATX', color: 'bg-gray-900' },
                { id: 'ca7', name: 'Hyte Y60 Red', price: 18500, form: 'ATX', color: 'bg-red-950' },
                { id: 'ca8', name: 'NZXT H9 Flow', price: 15500, form: 'ATX', color: 'bg-slate-900' },
                { id: 'ca9', name: 'Corsair 4000D Airflow', price: 6800, form: 'ATX', color: 'bg-gray-800' },
                { id: 'ca10', name: 'Fractal North Charcoal', price: 14500, form: 'ATX', color: 'bg-[#2a2520]' }
            ]
        };

        const NewFan = ({ size = 24, speed = "spin-med", color = "text-gray-500", rgb = false }) => (
            <div className={`relative flex items-center justify-center ${size}`}>
                <div className={`absolute inset-0 rounded-full border-2 border-opacity-20 border-current ${color}`}></div>
                <div className={`${speed} origin-center ${color} ${rgb ? 'rgb-cycle' : ''}`}>
                    <FanBlade className="w-full h-full" />
                </div>
            </div>
        );

        const ParticleSystem = () => (
            <div className="absolute inset-0 pointer-events-none z-0 overflow-hidden opacity-30">
                {[...Array(20)].map((_, i) => (
                    <div key={i} className="absolute h-px w-10 bg-blue-400 opacity-0 animate-flow" 
                    style={{ left: `${Math.random()*10}%`, top: `${Math.random()*90}%`, animationDelay: `${Math.random()*2}s` }} />
                ))}
            </div>
        );

        const PCBuilder = () => {
            const [step, setStep] = useState(0);
            const [build, setBuild] = useState({ cpu: null, motherboard: null, ram: null, storage: null, gpu: null, psu: null, case: null });
            const [parts, setParts] = useState(INITIAL_DB);
            const [refreshing, setRefreshing] = useState(false);
            const [searchTerm, setSearchTerm] = useState("");
            const [brandFilter, setBrandFilter] = useState("All");

            const categories = [
                { id: 'cpu', label: 'Processor', icon: Icons.Cpu },
                { id: 'motherboard', label: 'Motherboard', icon: Icons.Mobo },
                { id: 'ram', label: 'Memory', icon: Icons.Ram },
                { id: 'storage', label: 'Storage', icon: Icons.Ssd },
                { id: 'gpu', label: 'Graphics', icon: Icons.Gpu },
                { id: 'psu', label: 'Power', icon: Icons.Psu },
                { id: 'case', label: 'Cabinet', icon: Icons.Case },
            ];

            const currentCat = categories[step];

            const handleRefresh = () => {
                setRefreshing(true);
                setTimeout(() => setRefreshing(false), 1000);
            };

            const handlePrint = () => {
                window.print();
            };

            const filterParts = (catId) => {
                let list = parts[catId];
                if (catId === 'motherboard' && build.cpu) list = list.filter(m => m.socket === build.cpu.socket);
                if (catId === 'ram' && build.motherboard) list = list.filter(r => r.type === build.motherboard.memory);
                if (searchTerm) list = list.filter(item => item.name.toLowerCase().includes(searchTerm.toLowerCase()));
                if (brandFilter !== "All") {
                    if (catId === 'cpu') list = list.filter(item => item.type === brandFilter);
                    if (catId === 'gpu') {
                        const brand = brandFilter === "NVIDIA" ? ["RTX", "GTX"] : ["RX", "Radeon"];
                        list = list.filter(item => brand.some(b => item.name.includes(b)));
                    }
                }
                return list;
            };

            const selectPart = (part) => {
                setBuild(prev => {
                    const next = { ...prev, [currentCat.id]: part };
                    if (currentCat.id === 'cpu') { next.motherboard = null; next.ram = null; }
                    if (currentCat.id === 'motherboard') { next.ram = null; }
                    return next;
                });
            };

            const totalPrice = Object.values(build).reduce((sum, p) => sum + (p?.price || 0), 0);
            
            // Visualizer Styles
            const caseStyle = build.case ? build.case.color : 'bg-slate-900';
            const isWhiteBuild = caseStyle.includes('white') || caseStyle.includes('zinc');
            const textColor = isWhiteBuild ? 'text-slate-800' : 'text-white';
            const borderColor = isWhiteBuild ? 'border-slate-300' : 'border-slate-700';

            return (
                <div className="min-h-screen lg:h-screen w-screen bg-[#020617] text-white flex flex-col overflow-x-hidden">
                    
                    {/* --- PRINT BRANDING --- */}
                    <div className="print-only p-12 text-black bg-white h-auto">
                        <div className="flex justify-between items-center border-b-4 border-blue-600 pb-6 mb-8">
                            <div>
                                <h1 className="text-5xl font-bold tracking-tight text-blue-800">DesiRig</h1>
                                <p className="text-xl tracking-widest uppercase mt-2">Certified Build Sheet</p>
                            </div>
                            <div className="text-right">
                                <div className="text-sm font-bold text-gray-500">ASSEMBLY DATE</div>
                                <div className="text-xl">{new Date().toLocaleDateString()}</div>
                            </div>
                        </div>
                        <div className="mb-8 p-4 bg-gray-100 rounded-lg border border-gray-300">
                            <p className="font-bold text-gray-700">CUSTOMER BUILD ID: <span className="font-mono text-black">{Math.random().toString(36).substr(2, 9).toUpperCase()}</span></p>
                        </div>
                        <table className="w-full text-left border-collapse mb-12">
                            <thead>
                                <tr className="border-b-2 border-black bg-gray-50">
                                    <th className="py-4 px-2">COMPONENT</th>
                                    <th className="py-4 px-2">MODEL SELECTION</th>
                                    <th className="py-4 px-2 text-right">PRICE (EST)</th>
                                </tr>
                            </thead>
                            <tbody>
                                {categories.map(cat => (
                                    <tr key={cat.id} className="border-b border-gray-200">
                                        <td className="py-4 px-2 font-bold text-gray-600 uppercase text-sm">{cat.label}</td>
                                        <td className="py-4 px-2 font-medium">{build[cat.id] ? build[cat.id].name : "Not Selected"}</td>
                                        <td className="py-4 px-2 text-right font-mono">{build[cat.id] ? `₹${build[cat.id].price.toLocaleString('en-IN')}` : "-"}</td>
                                    </tr>
                                ))}
                            </tbody>
                            <tfoot>
                                <tr className="bg-blue-50">
                                    <td colSpan="2" className="py-4 px-2 text-right font-bold text-2xl text-blue-900">GRAND TOTAL</td>
                                    <td className="py-4 px-2 text-right font-bold text-2xl text-blue-900">₹{totalPrice.toLocaleString('en-IN')}</td>
                                </tr>
                            </tfoot>
                        </table>
                        <div className="text-center text-xs text-gray-400 mt-auto border-t pt-8">
                            <p>Generated by DesiRig: Assembler V2.0 • Prices sourced from online Indian retailers and are subject to change.</p>
                        </div>
                    </div>

                    {/* --- APP UI --- */}
                    <div className="no-print flex flex-col lg:h-full">
                        <header className="flex-none px-4 py-4 md:px-6 flex flex-col md:flex-row justify-between items-center glass-panel z-20 gap-4 md:gap-0">
                            <div className="flex items-center gap-3 w-full md:w-auto justify-between md:justify-start">
                                <div className="flex items-center gap-3">
                                    <div className="p-2 bg-blue-600 rounded-lg"><Icons.Cpu size={24} className="text-white" /></div>
                                    <h1 className="text-xl md:text-2xl font-bold">DesiRig <span className="text-blue-500 text-sm">Assembler</span></h1>
                                </div>
                                {/* Mobile Menu Button Placeholder if needed */}
                            </div>
                            <div className="flex gap-6 items-center w-full md:w-auto justify-between md:justify-end">
                                <button onClick={handleRefresh} disabled={refreshing} className="text-xs text-blue-400 flex gap-1 hover:text-white transition-colors">
                                    <Icons.Refresh size={14} className={refreshing ? 'spin-fast' : ''}/> Sync Stock
                                </button>
                                <div className="text-right">
                                    <div className="text-[10px] text-slate-400 uppercase tracking-wider">Estimate</div>
                                    <div className="text-xl font-bold text-green-400 font-mono">₹{totalPrice.toLocaleString('en-IN')}</div>
                                </div>
                            </div>
                        </header>

                        <div className="flex-1 flex flex-col lg:flex-row overflow-y-auto lg:overflow-hidden p-4 md:p-6 gap-6 relative z-10 custom-scrollbar">
                            
                            {/* --- RIGHT: VISUALIZER (Mobile: Top, Desktop: Right) --- */}
                            <div className="w-full lg:w-[35%] flex flex-col gap-4 order-1 lg:order-2 h-[400px] lg:h-auto flex-shrink-0">
                                <div className={`relative w-full flex-1 ${caseStyle} rounded-2xl border-4 ${isWhiteBuild ? 'border-gray-300 shadow-xl' : 'border-slate-800 shadow-2xl'} overflow-hidden flex flex-col group transition-colors duration-700 perspective-container`}>
                                    <div className="absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent pointer-events-none z-40"></div>
                                    <ParticleSystem />
                                    
                                    {/* INTERNAL LAYOUT */}
                                    <div className={`flex-1 relative z-10 p-4 md:p-6 flex flex-col items-center ${textColor} h-full`}>
                                        
                                        {/* Motherboard (Fixed Aspect Ratio) */}
                                        <div className={`relative w-full h-[80%] max-w-[85%] aspect-[3/4] ${isWhiteBuild ? 'bg-gray-200 border-gray-300' : 'bg-slate-800 border-slate-700'} border rounded-lg transition-all duration-500 ${build.motherboard ? 'opacity-100' : 'opacity-20 scale-95'} shadow-inner mt-4`}>
                                            
                                            {/* CPU */}
                                            <div className={`absolute top-[15%] left-[15%] w-[22%] aspect-square border-2 ${borderColor} rounded flex items-center justify-center bg-black/10`}>
                                                {build.cpu ? <div className="w-[80%] h-[80%] bg-gradient-to-br from-gray-300 to-gray-500 rounded flex items-center justify-center shadow-lg"><span className="text-[8px] lg:text-[10px] font-bold text-black">{build.cpu.type}</span></div> : <span className="text-[8px] opacity-50">SOCKET</span>}
                                            </div>

                                            {/* RAM */}
                                            <div className="absolute top-[15%] right-[10%] h-[25%] flex gap-1">
                                                {[0,1,2,3].map(i => (
                                                    <div key={i} className={`w-1.5 h-full ${isWhiteBuild ? 'bg-gray-400' : 'bg-slate-900'} border ${borderColor} rounded-sm relative overflow-hidden`}>
                                                        {build.ram && ((build.ram.size > 16) || (i % 2 !== 0)) && <div className="absolute inset-0 bg-slate-600 border-l border-slate-400">{build.ram.rgb && <div className="h-full w-full bg-gradient-to-b from-purple-500 to-blue-500 opacity-80 rgb-cycle blur-[1px]"></div>}</div>}
                                                    </div>
                                                ))}
                                            </div>

                                            {/* M.2 SSD SLOT */}
                                            <div className={`absolute bottom-[20%] left-[15%] w-[25%] h-[5%] border ${borderColor} rounded-sm flex items-center justify-center bg-black/20`}>
                                                {build.storage && build.storage.type === 'NVMe' ? (
                                                    <div className="w-[95%] h-[80%] bg-slate-700 border border-slate-500 rounded flex items-center px-2 shadow-md relative overflow-hidden">
                                                        <span className="text-[6px] text-white z-10 relative">NVMe SSD</span>
                                                        <div className="absolute right-0 top-0 h-full w-4 bg-yellow-500/20"></div>
                                                    </div>
                                                ) : <span className="text-[6px] opacity-50">M.2_1</span>}
                                            </div>

                                            {/* GPU */}
                                            <div className="absolute bottom-[5%] left-[5%] right-[5%] h-[15%] z-30">
                                                {build.gpu && build.gpu.price > 0 && (
                                                    <div className={`w-full h-full ${isWhiteBuild ? 'bg-gray-100 border-gray-400' : 'bg-slate-800 border-slate-600'} border-2 rounded-lg shadow-xl flex items-center justify-around px-2 relative`}>
                                                        <div className="absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-green-400 to-blue-500 rgb-cycle"></div>
                                                        <NewFan size="w-8 h-8 lg:w-10 lg:h-10" color={isWhiteBuild ? 'text-gray-400' : 'text-slate-600'} />
                                                        <NewFan size="w-8 h-8 lg:w-10 lg:h-10" color={isWhiteBuild ? 'text-gray-400' : 'text-slate-600'} />
                                                        {build.psu && <svg className="absolute top-full right-8 w-10 h-20 pointer-events-none"><path d="M5,0 C5,20 20,20 20,40" fill="none" stroke={isWhiteBuild ? '#94a3b8' : '#334155'} strokeWidth="4"/></svg>}
                                                    </div>
                                                )}
                                            </div>

                                            {/* 24-Pin Cable */}
                                            {build.psu && build.motherboard && (
                                                <svg className="absolute top-[20%] right-[-15px] w-10 h-[40%] overflow-visible pointer-events-none z-50">
                                                    <path d="M0,0 C20,0 20,50 10,100" fill="none" stroke={isWhiteBuild ? '#94a3b8' : '#1e293b'} strokeWidth="8" />
                                                    <path d="M0,0 C20,0 20,50 10,100" fill="none" stroke={isWhiteBuild ? '#cbd5e1' : '#334155'} strokeWidth="2" strokeDasharray="3" />
                                                </svg>
                                            )}
                                        </div>

                                        {/* SATA SSD MOUNT */}
                                        {build.storage && (build.storage.type === 'SATA' || build.storage.type === 'HDD') && (
                                            <div className="absolute top-[20%] right-4 w-12 h-20 flex flex-col items-center justify-center animate-flow">
                                                <div className="w-10 h-16 bg-slate-700 border border-slate-500 rounded shadow-lg flex items-center justify-center relative">
                                                    <span className="text-[6px] -rotate-90 text-white font-bold">{build.storage.type}</span>
                                                    {build.motherboard && <svg className="absolute top-full left-1/2 w-20 h-20 overflow-visible pointer-events-none"><path d="M0,0 L0,10 L-60,40" fill="none" stroke="red" strokeWidth="2" opacity="0.7"/></svg>}
                                                </div>
                                            </div>
                                        )}

                                        {/* PSU SHROUD & UNIT */}
                                        <div className={`h-16 mt-auto ${isWhiteBuild ? 'bg-gray-100 border-gray-300' : 'bg-slate-900 border-slate-700'} border-t flex items-center px-6 relative z-20 w-full`}>
                                            {build.psu ? (
                                                <div className="flex items-center gap-4 w-full">
                                                    <div className="w-32 h-12 bg-slate-900 border border-slate-600 rounded flex items-center justify-center relative overflow-hidden shadow-inner group-hover:shadow-lg transition-shadow">
                                                        <div className="absolute inset-0 bg-[radial-gradient(circle,_transparent_30%,_#0f172a_30%)] bg-[length:4px_4px] opacity-60 z-10 pointer-events-none"></div>
                                                        <div className="absolute right-2 bottom-1 text-[8px] font-mono text-yellow-500 font-bold z-20">{build.psu.watts}W</div>
                                                        <NewFan size="w-10 h-10" color="text-slate-600" speed="spin-slow" />
                                                    </div>
                                                    <div className={`h-1 ${isWhiteBuild ? 'bg-gray-300' : 'bg-slate-800'} flex-1 rounded overflow-hidden`}>
                                                        <div className="h-full bg-yellow-500 w-full animate-pulse"></div>
                                                    </div>
                                                </div>
                                            ) : <div className="text-xs opacity-30 tracking-widest">PSU BAY</div>}
                                        </div>
                                    </div>
                                </div>

                                <div className="flex gap-4">
                                    <button onClick={handlePrint} className="flex-1 py-3 bg-white text-black font-bold rounded-xl hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 shadow-lg">
                                        <Icons.Print /> Download PDF
                                    </button>
                                </div>
                            </div>

                            {/* --- LEFT: SELECTION (Mobile: Bottom, Desktop: Left) --- */}
                            <div className="w-full lg:w-[65%] flex flex-col gap-4 order-2 lg:order-1 lg:h-full">
                                {/* Navigation */}
                                <div className="flex justify-between relative px-2 py-2 bg-slate-900/50 rounded-full border border-slate-800 overflow-x-auto scrollbar-hide">
                                    {/* Progress Line */}
                                    <div className="absolute h-0.5 bg-slate-700 w-[95%] left-[2.5%] top-1/2 -z-10 rounded-full min-w-[300px]"></div>
                                    <div 
                                        className="absolute h-0.5 bg-blue-600 left-[2.5%] top-1/2 -z-10 rounded-full transition-all duration-300"
                                        style={{ width: `${(step / (categories.length - 1)) * 95}%` }}
                                    ></div>

                                    {categories.map((cat, idx) => {
                                        const done = idx < step || build[cat.id] !== null;
                                        const active = idx === step;
                                        return (
                                            <button 
                                                key={cat.id} 
                                                onClick={() => { setStep(idx); setSearchTerm(""); setBrandFilter("All"); }}
                                                className={`w-8 h-8 flex-shrink-0 rounded-full flex items-center justify-center transition-all border-2 relative z-10 ${active ? 'bg-blue-600 border-blue-400 text-white scale-110 shadow-[0_0_10px_rgba(59,130,246,0.6)]' : done ? 'bg-slate-800 border-green-500 text-green-400' : 'bg-slate-900 border-slate-700 text-slate-600 hover:border-slate-500'}`}
                                            >
                                                <cat.icon size={14} />
                                            </button>
                                        )
                                    })}
                                </div>

                                {/* Catalog */}
                                <div className="glass-panel rounded-2xl p-4 flex-1 flex flex-col overflow-hidden min-h-[400px]">
                                    <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4 sm:gap-0">
                                        <h2 className="text-lg font-bold text-blue-100 flex items-center gap-2">{currentCat.label} 
                                            {currentCat.id === 'motherboard' && build.cpu && <span className="text-[10px] bg-blue-900 px-2 rounded text-blue-200">{build.cpu.socket}</span>}
                                        </h2>
                                        <div className="flex gap-2 w-full sm:w-auto">
                                            <input type="text" placeholder="Search..." className="bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs w-full sm:w-32 focus:border-blue-500 outline-none" value={searchTerm} onChange={e => setSearchTerm(e.target.value)} />
                                            {(currentCat.id === 'cpu' || currentCat.id === 'gpu') && (
                                                <select className="bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs outline-none" value={brandFilter} onChange={e => setBrandFilter(e.target.value)}>
                                                    <option value="All">All</option>
                                                    {currentCat.id === 'cpu' ? <><option value="Intel">Intel</option><option value="AMD">AMD</option></> : <><option value="NVIDIA">NVIDIA</option><option value="AMD">AMD</option></>}
                                                </select>
                                            )}
                                        </div>
                                    </div>
                                    
                                    {/* GRID LAYOUT */}
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto pr-1 custom-scrollbar flex-1 content-start">
                                        {filterParts(currentCat.id).map(part => (
                                            <div 
                                                key={part.id} 
                                                onClick={() => selectPart(part)} 
                                                className={`p-3 rounded-xl border cursor-pointer relative group transition-all ${build[currentCat.id]?.id === part.id ? 'bg-blue-600/20 border-blue-500 shadow-[inset_0_0_15px_rgba(59,130,246,0.15)]' : 'bg-slate-800/40 border-slate-700 hover:bg-slate-800'}`}
                                            >
                                                <div className="flex justify-between items-start mb-1">
                                                    <div className="font-semibold text-sm group-hover:text-blue-300 line-clamp-1 mr-2">{part.name}</div>
                                                    <span className="font-mono text-green-400 text-xs font-bold whitespace-nowrap">₹{part.price.toLocaleString()}</span>
                                                </div>
                                                
                                                <div className="flex justify-between items-end mt-2">
                                                    <div className="flex gap-1.5 text-[10px] text-slate-500">
                                                        {part.socket && <span className="bg-slate-900 px-1.5 py-0.5 rounded border border-slate-800">{part.socket}</span>}
                                                        {part.type && <span className="bg-slate-900 px-1.5 py-0.5 rounded border border-slate-800">{part.type}</span>}
                                                        {part.watts && <span className="bg-slate-900 px-1.5 py-0.5 rounded border border-slate-800">{part.watts}W</span>}
                                                    </div>
                                                    <a 
                                                        href={`https://www.amazon.in/s?k=${encodeURIComponent(part.name)}`} 
                                                        target="_blank" 
                                                        onClick={e => e.stopPropagation()} 
                                                        className="px-2 py-1 bg-yellow-500 hover:bg-yellow-400 text-black text-[10px] font-bold rounded flex items-center gap-1 transition-colors"
                                                        title="Buy on Amazon"
                                                    >
                                                        Buy <Icon size={10}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></Icon>
                                                    </a>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* Action Bar */}
                                    <div className="mt-4 pt-4 border-t border-slate-800 flex gap-4">
                                        <button 
                                            disabled={step === 0}
                                            onClick={() => { setStep(s => s - 1); setSearchTerm(""); }}
                                            className="px-6 py-3 rounded-xl bg-slate-800 hover:bg-slate-700 disabled:opacity-0 transition-all font-semibold"
                                        >
                                            Back
                                        </button>
                                        <button 
                                            disabled={!build[currentCat.id] || step === categories.length - 1}
                                            onClick={() => { setStep(s => s + 1); setSearchTerm(""); }}
                                            className="flex-1 py-3 rounded-xl bg-blue-600 hover:bg-blue-500 disabled:bg-slate-800 disabled:text-slate-500 transition-all font-bold shadow-lg shadow-blue-900/20 flex items-center justify-center gap-2"
                                        >
                                            Next Step
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* NEW FOOTER */}
                        <footer className="flex-none p-4 text-center text-xs text-slate-500 glass-panel relative z-20">
                            <p className="flex items-center justify-center gap-1">
                                Made with <span className="text-red-500 text-sm">♥</span> by 
                                <a href="https://github.com/adityasync" target="_blank" rel="noopener noreferrer" className="hover:text-blue-400 transition-colors font-medium">
                                    Aditya
                                </a>
                            </p>
                        </footer>

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PCBuilder />);
    </script>
</body>
</html>
